<!DOCTYPE html>
<html>
<head>
  <title>Widget Test Host</title>
  <style>
    body { font-family: system-ui; padding: 20px; background: #f5f5f5; }
    h1 { font-size: 18px; margin-bottom: 16px; }
    .controls { margin-bottom: 16px; display: flex; gap: 8px; flex-wrap: wrap; }
    button { padding: 8px 16px; border-radius: 6px; border: 1px solid #ccc; cursor: pointer; background: white; }
    button:hover { background: #eee; }
    button.active { background: #2563eb; color: white; border-color: #2563eb; }
    iframe { width: 100%; height: 500px; border: 1px solid #ccc; border-radius: 8px; background: white; }
    .theme-toggle { margin-bottom: 16px; }
    pre { font-size: 12px; background: #1a1a1a; color: #e5e5e5; padding: 12px; border-radius: 8px; margin-top: 16px; max-height: 200px; overflow: auto; }
  </style>
</head>
<body>
  <h1>MCP Apps Widget Test Host (AppBridge)</h1>

  <div class="controls">
    <button onclick="loadWidget('profile', this)" class="active">Profile</button>
    <button onclick="loadWidget('session', this)">Session</button>
    <button onclick="loadWidget('stats', this)">Stats</button>
    <button onclick="loadWidget('today-plan', this)">Today Plan</button>
    <button onclick="loadWidget('exercises', this)">Exercises</button>
    <button onclick="loadWidget('programs', this)">Programs</button>
    <button onclick="loadWidget('templates', this)">Templates</button>
    <button onclick="loadWidget('measurements', this)">Measurements</button>
    <button onclick="loadWidget('export', this)">Export</button>
    <button onclick="loadWidget('programs-list', this)">Programs List</button>
  </div>

  <div class="theme-toggle">
    <button onclick="toggleTheme()">Toggle Dark/Light</button>
    <span id="theme-label">Theme: light</span>
    &nbsp;&nbsp;
    <button onclick="toggleMode()">Toggle Live/Sample</button>
    <span id="mode-label" style="font-weight: 600; color: #f59e0b">Sample data</span>
  </div>

  <iframe id="widget-frame"></iframe>
  <pre id="log">// Message log</pre>

  <script type="module" src="/src/test-host.ts"></script>
</body>
</html>
